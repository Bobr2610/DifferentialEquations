### ЧАСТЬ 1. ОПРЕДЕЛИТЕЛЬ ТИПА (Face Control)

Чтобы понять, с чем вы имеете дело, анализируйте уравнение в следующем порядке:

1.  **Это СИСТЕМА?** (наличие фигурных скобок).
    *   Вид $\dot{x} = Ax$ или $\dot{x} = Ax + f(t)$ $\to$ **№13 Система линейных уравнений**.
    *   Если нужно найти $e^{At}$ $\to$ **№20 Экспонента от матрицы**.
    *   Сложная нелинейная система или вид $dx/P = dy/Q = dz/R$ $\to$ **№16 Метод интегрируемых комбинаций**.
2.  **Это ОДНО УРАВНЕНИЕ. Какой порядок?** (ищем максимальную производную).
    *   **Порядок выше 1-го ($y'', y''' \dots$):**
        *   Нет $y$ (только $x, y', y''$) или нет $x$ (только $y, y', y''$) $\to$ **№7 Сводящиеся к 1-ому порядку (понижение)**.
        *   Линейное с числами перед $y^{(k)}$ $\to$ **№11, 12 Линейное с постоянными коэффициентами**.
        *   Перед $y^{(k)}$ стоит $x^k$ (например, $x^2 y''$) $\to$ **№9 Уравнение Эйлера**.
        *   Коэффициенты зависят от $x$ (и не Эйлер) $\to$ **№14 Уравнение 2-ого порядка с непостоянными коэффициентами**.
    *   **Порядок 1-й ($y'$ или $dy, dx$):**
        *   $y' = f(y/x)$ или все слагаемые одной степени $\to$ **№1 Однородное 1-ого порядка**.
        *   $y' + P(x)y = Q(x)$ $\to$ **№2 Линейное 1-ого порядка**.
        *   $y' + P(x)y = Q(x)y^n$ ($n \neq 0, 1$) $\to$ **№8 Уравнение Бернулли**.
        *   $Pdx + Qdy = 0$ и $\partial P/\partial y = \partial Q/\partial x$ $\to$ **№3 Уравнение в полных дифференциалах**.
        *   Нельзя выразить $y'$ (оно в синусе, логарифме или степени) $\to$ **№6 Не разрешённое относительно производной**.
3.  **Специальные условия:**
    *   Дано $y(x_0) = y_0$ $\to$ **№5 Задача Коши**.
    *   Условия в двух точках $y(0)=a, y(1)=b$ $\to$ **№15 Краевая задача**.
    *   Слова «исследовать на устойчивость» $\to$ **№17 Устойчивость**.

---

### ЧАСТЬ 2. ПАРАГРАФЫ С РЕШЕНИЕМ И РАЗБОРОМ

---

#### 1. Однородное 1-ого порядка

**Признак:** $y' = f(y/x)$ или $M(x,y)dx + N(x,y)dy = 0$, где $M, N$ — однородные функции одной степени.

**Алгоритм:**
1. Замена **$y = ux$**, тогда $y' = u'x + u$
2. Подставляем: $u'x + u = f(u)$
3. Разделяем переменные: $\frac{du}{f(u) - u} = \frac{dx}{x}$
4. Интегрируем обе части
5. Возвращаемся к $y = ux$

**Пример:** $y' = \frac{y}{x} + \tan\frac{y}{x}$
- Замена $u = y/x$: $u'x + u = u + \tan u$
- $u'x = \tan u$ → $\cos u \, du = \frac{dx}{x}$
- Ответ: $\sin(y/x) = C|x|$

---

#### 2. Линейное 1-ого порядка

**Вид:** $y' + P(x)y = Q(x)$

**Алгоритм (метод $y = uv$):**
1. Подстановка $y = uv$, тогда $y' = u'v + uv'$
2. Получаем: $u'v + u(v' + Pv) = Q$
3. Выбираем $v$ так, чтобы $v' + Pv = 0$ → $v = e^{-\int P\,dx}$
4. Тогда $u' = \frac{Q}{v}$ → $u = \int \frac{Q}{v}\,dx + C$
5. Ответ: $y = uv$

**Формула общего решения:**
$$y = e^{-\int P\,dx}\left(\int Q \cdot e^{\int P\,dx}\,dx + C\right)$$

**Пример:** $y' + \frac{y}{x} = x^2$
- $P = 1/x$, $Q = x^2$
- $e^{\int \frac{1}{x}dx} = x$
- $y = \frac{1}{x}\left(\int x^2 \cdot x\,dx + C\right) = \frac{x^3}{4} + \frac{C}{x}$

---

#### 3. Уравнение в полных дифференциалах

**Признак:** $Pdx + Qdy = 0$, где $\frac{\partial P}{\partial y} = \frac{\partial Q}{\partial x}$

**Алгоритм:**
1. Проверить условие полного дифференциала
2. Искать потенциал $U(x,y)$: $U = \int P\,dx + \varphi(y)$
3. Дифференцировать по $y$: $\frac{\partial U}{\partial y} = Q$
4. Найти $\varphi'(y)$ и проинтегрировать
5. Ответ: $U(x,y) = C$

**Пример:** $(2xy + 3)dx + (x^2 + 4y)dy = 0$
- Проверка: $P'_y = 2x$, $Q'_x = 2x$ ✓
- $U = \int(2xy+3)dx = x^2y + 3x + \varphi(y)$
- $U'_y = x^2 + \varphi'(y) = x^2 + 4y$ → $\varphi(y) = 2y^2$
- Ответ: $x^2y + 3x + 2y^2 = C$

---

#### 4. Интегрирующий множитель

**Суть:** Если уравнение не в полных дифференциалах, умножаем на $\mu$, чтобы стало.

**Алгоритм:**
1. Вычислить $\frac{P'_y - Q'_x}{Q}$. Если зависит только от $x$:
   $$\mu = e^{\int \frac{P'_y - Q'_x}{Q}\,dx}$$
2. Вычислить $\frac{Q'_x - P'_y}{P}$. Если зависит только от $y$:
   $$\mu = e^{\int \frac{Q'_x - P'_y}{P}\,dy}$$
3. Умножить уравнение на $\mu$ и решить как тип №3

**Частные случаи:**
- $\mu = x^n y^m$ — подбор по виду уравнения
- $\mu = \mu(x)$ или $\mu = \mu(y)$ — по формулам выше

---

#### 5. Задача Коши

**Алгоритм:**
1. Найти общее решение $y = f(x, C)$
2. Подставить $y(x_0) = y_0$
3. Найти конкретное $C$
4. Записать частное решение

**Теорема существования и единственности:**
Если $f(x,y)$ и $f'_y(x,y)$ непрерывны в окрестности $(x_0, y_0)$, то ∃! решение задачи Коши.

---

#### 6. Не разрешённое относительно производной

**Вид:** $F(x, y, y') = 0$

**Алгоритм (параметризация):**
1. Ввести параметр $p = y'$
2. Если можно выразить $y = f(x, p)$:
   - Дифференцируем по $x$: $\frac{dy}{dx} = p$
   - Получаем $\frac{\partial f}{\partial x} + \frac{\partial f}{\partial p}\cdot\frac{dp}{dx} = p$
   - Решаем относительно $p(x)$
3. Ответ в параметрическом виде: $\{x = x(p), y = y(p)\}$

**Уравнение Клеро:** $y = xy' + \varphi(y')$
- Общее решение: $y = Cx + \varphi(C)$ (семейство прямых)
- Особое решение: из системы $\{y = xp + \varphi(p), 0 = x + \varphi'(p)\}$ — исключить $p$

---

#### 7. Сводящиеся к 1-ому порядку (понижение)

**Тип 1: Нет $y$ — только $x, y', y''$**
- Замена: $p = y'(x)$, тогда $y'' = p'$
- Получаем уравнение 1-го порядка относительно $p(x)$
- Затем $y = \int p\,dx$

**Тип 2: Нет $x$ — только $y, y', y''$**
- Замена: $p = y'$ как функция $y$
- Тогда $y'' = \frac{dy'}{dx} = \frac{dp}{dy}\cdot\frac{dy}{dx} = p\frac{dp}{dy}$
- Получаем уравнение 1-го порядка относительно $p(y)$
- Затем $x = \int \frac{dy}{p(y)}$

**Пример (тип 2):** $yy'' = (y')^2$
- Замена: $y'' = p\frac{dp}{dy}$
- $y \cdot p\frac{dp}{dy} = p^2$ → $\frac{dp}{p} = \frac{dy}{y}$
- $\ln|p| = \ln|y| + C_1$ → $p = C_1 y$
- $\frac{dy}{dx} = C_1 y$ → $y = C_2 e^{C_1 x}$

---

#### 8. Уравнение Бернулли

**Вид:** $y' + P(x)y = Q(x)y^n$, где $n \neq 0, 1$

**Алгоритм:**
1. Разделить на $y^n$: $y^{-n}y' + P(x)y^{1-n} = Q(x)$
2. Замена: $z = y^{1-n}$, тогда $z' = (1-n)y^{-n}y'$
3. Получаем линейное: $\frac{z'}{1-n} + P(x)z = Q(x)$
4. Или: $z' + (1-n)P(x)z = (1-n)Q(x)$
5. Решаем как тип №2, возвращаемся к $y$

**Пример:** $y' + y = xy^3$
- $n = 3$, делим на $y^3$: $y^{-3}y' + y^{-2} = x$
- Замена $z = y^{-2}$, $z' = -2y^{-3}y'$
- $-\frac{z'}{2} + z = x$ → $z' - 2z = -2x$
- Решаем линейное...

---

#### 9. Уравнение Эйлера

**Вид:** $x^n y^{(n)} + a_1 x^{n-1}y^{(n-1)} + \ldots + a_n y = f(x)$

**Алгоритм:**
1. Замена: $x = e^t$ (или $t = \ln|x|$ для $x > 0$)
2. Производные преобразуются:
   - $xy' = \frac{dy}{dt} = \dot{y}$
   - $x^2 y'' = \ddot{y} - \dot{y}$
   - $x^3 y''' = \dddot{y} - 3\ddot{y} + 2\dot{y}$
3. Получаем уравнение с постоянными коэффициентами относительно $t$
4. Решаем как тип №11, возвращаемся к $x$

**Характеристическое уравнение:** для $x^2y'' + axy' + by = 0$:
$$\lambda(\lambda-1) + a\lambda + b = 0$$

---

#### 10. Интересная замена

**Признак:** В уравнении есть $ax + by + c$ под функцией.

**Алгоритм:**
1. Замена: $z = ax + by + c$
2. Тогда $z' = a + by'$, откуда $y' = \frac{z' - a}{b}$
3. Подставляем и получаем уравнение с разделяющимися переменными

**Пример:** $y' = (x + y)^2$
- Замена $z = x + y$, $z' = 1 + y'$, $y' = z' - 1$
- $z' - 1 = z^2$ → $\frac{dz}{z^2 + 1} = dx$
- $\arctan z = x + C$ → $\arctan(x+y) = x + C$

---

#### 11. Линейное уравнение с постоянными коэффициентами (однородное)

**Вид:** $a_0 y^{(n)} + a_1 y^{(n-1)} + \ldots + a_n y = 0$

**Алгоритм:**
1. Составить характеристическое уравнение: $a_0\lambda^n + a_1\lambda^{n-1} + \ldots + a_n = 0$
2. Найти корни $\lambda_i$ и их кратности
3. Построить ФСР:

| Корень | Решения |
|--------|---------|
| $\lambda$ простой действительный | $e^{\lambda x}$ |
| $\lambda$ кратности $k$ действительный | $e^{\lambda x}, xe^{\lambda x}, \ldots, x^{k-1}e^{\lambda x}$ |
| $\alpha \pm i\beta$ простые | $e^{\alpha x}\cos\beta x, \, e^{\alpha x}\sin\beta x$ |
| $\alpha \pm i\beta$ кратности $k$ | $e^{\alpha x}\cos\beta x, \, e^{\alpha x}\sin\beta x, \, xe^{\alpha x}\cos\beta x, \ldots$ |

4. Общее решение: $y = C_1 y_1 + C_2 y_2 + \ldots + C_n y_n$

---

#### 12. Неоднородное линейное с постоянными коэффициентами

**Вид:** $a_0 y^{(n)} + \ldots + a_n y = f(x)$

**Общее решение:** $y_{\text{общ}} = y_{\text{одн}} + y_{\text{частн}}$

**Метод подбора (специальная правая часть):**

| Правая часть $f(x)$ | Вид частного решения |
|---------------------|---------------------|
| $P_m(x)$ — многочлен степени $m$ | $x^s \cdot Q_m(x)$ |
| $e^{\alpha x}$ | $x^s \cdot A e^{\alpha x}$ |
| $e^{\alpha x} P_m(x)$ | $x^s \cdot e^{\alpha x} Q_m(x)$ |
| $\cos\beta x$ или $\sin\beta x$ | $x^s(A\cos\beta x + B\sin\beta x)$ |
| $e^{\alpha x}(P_m\cos\beta x + Q_l\sin\beta x)$ | $x^s e^{\alpha x}(\tilde{P}_k\cos\beta x + \tilde{Q}_k\sin\beta x)$ |

где $s$ — кратность числа $\alpha$ (или $\alpha \pm i\beta$) как корня характеристического уравнения, $k = \max(m, l)$.

**Метод вариации постоянных (любая правая часть):**
1. Найти ФСР $y_1, \ldots, y_n$ однородного уравнения
2. Искать $y_{\text{ч}} = C_1(x)y_1 + \ldots + C_n(x)y_n$
3. Решить систему:
$$\begin{cases}
C'_1 y_1 + C'_2 y_2 + \ldots + C'_n y_n = 0 \\
C'_1 y'_1 + C'_2 y'_2 + \ldots + C'_n y'_n = 0 \\
\vdots \\
C'_1 y_1^{(n-1)} + \ldots + C'_n y_n^{(n-1)} = f(x)/a_0
\end{cases}$$
4. Проинтегрировать $C'_i$

---

#### 13. Система линейных уравнений

**Вид:** $\dot{\mathbf{x}} = A\mathbf{x}$ (однородная) или $\dot{\mathbf{x}} = A\mathbf{x} + \mathbf{f}(t)$ (неоднородная)

**Алгоритм для однородной с постоянной $A$:**
1. Найти собственные числа: $\det(A - \lambda I) = 0$
2. Для каждого $\lambda$ найти собственный вектор: $(A - \lambda I)\mathbf{v} = 0$
3. Построить решения:

| Собственное число | Решение |
|-------------------|---------|
| $\lambda$ простое действительное | $\mathbf{x} = e^{\lambda t}\mathbf{v}$ |
| $\lambda = \alpha \pm i\beta$ | $\mathbf{x}_1 = e^{\alpha t}(\mathbf{u}\cos\beta t - \mathbf{w}\sin\beta t)$ |
|                                | $\mathbf{x}_2 = e^{\alpha t}(\mathbf{u}\sin\beta t + \mathbf{w}\cos\beta t)$ |
| $\lambda$ кратное (недостаток векторов) | Искать присоединённые: $(A-\lambda I)\mathbf{h}_1 = \mathbf{h}_0$ |

4. Общее решение: $\mathbf{x} = C_1\mathbf{x}_1 + C_2\mathbf{x}_2 + \ldots$

**Для неоднородной (метод вариации):**
$$\mathbf{x}(t) = \Phi(t)\Phi^{-1}(t_0)\mathbf{x}_0 + \Phi(t)\int_{t_0}^{t}\Phi^{-1}(\tau)\mathbf{f}(\tau)\,d\tau$$

---

#### 14. Уравнение 2-ого порядка с непостоянными коэффициентами

**Вид:** $y'' + p(x)y' + q(x)y = f(x)$

**Если известно одно решение $y_1$ однородного:**

**Формула Лиувилля-Остроградского:**
$$y_2 = y_1 \int \frac{e^{-\int p\,dx}}{y_1^2}\,dx$$

**Алгоритм:**
1. Угадать частное решение $y_1$ однородного
2. Найти $y_2$ по формуле выше
3. Общее однородное: $y_{\text{одн}} = C_1 y_1 + C_2 y_2$
4. Для неоднородного — вариация постоянных

**Подсказки для угадывания $y_1$:** Пробовать $y_1 = x^n$, $y_1 = e^{ax}$, $y_1 = \sin x$, $y_1 = \cos x$

---

#### 15. Краевая задача

**Вид:** $y'' + p(x)y' + q(x)y = f(x)$, $y(a) = A$, $y(b) = B$

**Функция Грина $G(x, s)$:**
$$y(x) = \int_a^b G(x, s) f(s)\,ds$$

**Построение функции Грина:**
1. Найти $y_1(x)$ — решение однородного с $y_1(a) = 0$
2. Найти $y_2(x)$ — решение однородного с $y_2(b) = 0$
3. Вычислить вронскиан $W = y_1 y'_2 - y'_1 y_2$
4. Функция Грина:
$$G(x,s) = \begin{cases}
\frac{y_1(x)y_2(s)}{W(s)}, & a \le x \le s \\
\frac{y_1(s)y_2(x)}{W(s)}, & s \le x \le b
\end{cases}$$

**Теорема об альтернативе:** Краевая задача либо имеет единственное решение, либо однородная задача имеет ненулевое решение.

---

#### 16. Метод интегрируемых комбинаций

**Вид:** Симметрическая система $\frac{dx}{P} = \frac{dy}{Q} = \frac{dz}{R}$

**Алгоритм:**
1. Подбираем множители $(\alpha, \beta, \gamma)$ такие, что:
   $$\alpha P + \beta Q + \gamma R = 0$$
2. Тогда $\alpha\,dx + \beta\,dy + \gamma\,dz = 0$ — полный дифференциал
3. Интегрируем: $U_1(x, y, z) = C_1$ — первый интеграл
4. Повторяем для второй комбинации: $U_2(x, y, z) = C_2$
5. Ответ: $\{U_1 = C_1, U_2 = C_2\}$

**Частые приёмы:**
- $(1, 1, 1)$: $dx + dy + dz = d(x+y+z)$
- $(x, y, z)$: $x\,dx + y\,dy + z\,dz = \frac{1}{2}d(x^2+y^2+z^2)$
- Сложение/вычитание дробей

---

#### 17. Устойчивость

**Система:** $\dot{\mathbf{x}} = \mathbf{f}(\mathbf{x})$, положение равновесия $\mathbf{x}_0$: $\mathbf{f}(\mathbf{x}_0) = 0$

**Первый метод Ляпунова (линеаризация):**
1. Вычислить матрицу Якоби: $A = \mathbf{f}'(\mathbf{x}_0)$
2. Найти собственные числа $\lambda_i$ матрицы $A$
3. Критерий:
   - **$\mathrm{Re}\,\lambda_i < 0$ для всех** → асимптотически устойчиво
   - **$\exists\,\mathrm{Re}\,\lambda_k > 0$** → неустойчиво
   - **$\exists\,\mathrm{Re}\,\lambda_k = 0$** (и нет положительных) → критический случай

**Для системы на плоскости:** $p = -\mathrm{tr}\,A$, $q = \det A$, $D = p^2 - 4q$

| Условие | Тип точки | Устойчивость |
|---------|-----------|--------------|
| $q < 0$ | Седло | Неустойчиво |
| $q > 0$, $p > 0$, $D > 0$ | Устойчивый узел | Асимптотически |
| $q > 0$, $p > 0$, $D < 0$ | Устойчивый фокус | Асимптотически |
| $q > 0$, $p < 0$ | Неустойчивый узел/фокус | Неустойчиво |
| $q > 0$, $p = 0$ | Центр | Критический случай |

---

#### 18. Особые точки

**Классификация по собственным числам $\lambda_1, \lambda_2$:**

| Собственные числа | Тип точки | Фазовый портрет |
|-------------------|-----------|-----------------|
| $\lambda_1 > \lambda_2 > 0$ | Неустойчивый узел | Траектории уходят |
| $\lambda_1 < \lambda_2 < 0$ | Устойчивый узел | Траектории приходят |
| $\lambda_1 > 0 > \lambda_2$ | Седло | Гиперболы |
| $\lambda = \alpha \pm i\beta$, $\alpha > 0$ | Неустойчивый фокус | Спираль наружу |
| $\lambda = \alpha \pm i\beta$, $\alpha < 0$ | Устойчивый фокус | Спираль внутрь |
| $\lambda = \pm i\beta$ | Центр | Замкнутые орбиты |
| $\lambda_1 = \lambda_2 > 0$, один вектор | Вырожденный узел | Параболы |

---

#### 19. Особые решения

**Определение:** Решение, через каждую точку которого проходит другое решение (нарушение единственности).

**Алгоритм (p-дискриминанта):**
1. Из уравнения $F(x, y, y') = 0$ и условия $F'_{y'}(x, y, y') = 0$
2. Исключить $y'$
3. Проверить, что результат — решение исходного уравнения

**Алгоритм (C-дискриминанта):**
1. Из общего решения $\Phi(x, y, C) = 0$ и условия $\Phi'_C(x, y, C) = 0$
2. Исключить $C$
3. Проверить, что результат — решение

**Пример (уравнение Клеро):** $y = xy' + (y')^2$
- Общее решение: $y = Cx + C^2$ (прямые)
- $\Phi'_C = x + 2C = 0$ → $C = -x/2$
- Особое решение: $y = -\frac{x^2}{4}$ (парабола — огибающая)

---

#### 20. Экспонента от матрицы

**Определение:** $e^{At} = I + At + \frac{(At)^2}{2!} + \frac{(At)^3}{3!} + \ldots$

**Связь с системой:** Если $\dot{\mathbf{x}} = A\mathbf{x}$, то $\mathbf{x}(t) = e^{At}\mathbf{x}_0$

**Вычисление для диагонализируемой $A = SDS^{-1}$:**
$$e^{At} = S e^{Dt} S^{-1}, \quad e^{Dt} = \mathrm{diag}(e^{\lambda_1 t}, \ldots, e^{\lambda_n t})$$

**Метод расщепления (для жордановой клетки):**

Если $A = \lambda I + N$, где $N$ — нильпотентная ($N^k = 0$):
$$e^{At} = e^{\lambda t}(I + Nt + \frac{N^2 t^2}{2!} + \ldots + \frac{N^{k-1}t^{k-1}}{(k-1)!})$$

**Для жордановой клетки 2×2:** $J = \begin{pmatrix} \lambda & 1 \\ 0 & \lambda \end{pmatrix}$
$$e^{Jt} = e^{\lambda t}\begin{pmatrix} 1 & t \\ 0 & 1 \end{pmatrix}$$

**Для жордановой клетки 3×3:** $J = \begin{pmatrix} \lambda & 1 & 0 \\ 0 & \lambda & 1 \\ 0 & 0 & \lambda \end{pmatrix}$
$$e^{Jt} = e^{\lambda t}\begin{pmatrix} 1 & t & t^2/2 \\ 0 & 1 & t \\ 0 & 0 & 1 \end{pmatrix}$$

**Свойства:**
- $\det e^{At} = e^{t\,\mathrm{tr}\,A}$
- $e^{A+B} = e^A e^B$ только если $AB = BA$
- $(e^A)^{-1} = e^{-A}$

---

**Аналогия для понимания:** Дифференциальные уравнения — это **математический детектив**. Ваша задача в «Face Control» — опознать преступника по «особым приметам» (степень $y$, наличие $x$, вид правой части), а затем применить к нему строго определенную «статью» (алгоритм) из этого кодекса.
